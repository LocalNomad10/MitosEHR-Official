/*
 * Extensible 1.0-alpha1
 * Copyright(c) 2010 ThinkFirst, LLC
 * team@ext.ensible.com
 * http://ext.ensible.com
 */
(function(){Ext.ns("Ext.ensible.ux","Ext.ensible.cal");Ext.apply(Ext.ensible,{version:"1.0-alpha-1",hasBorderRadius:!(Ext.isIE||Ext.isOpera),Date:{diffDays:function(b,a){day=1000*60*60*24;diff=a.clearTime(true).getTime()-b.clearTime(true).getTime();return Math.ceil(diff/day)},copyTime:function(c,b){var a=b.clone();a.setHours(c.getHours(),c.getMinutes(),c.getSeconds(),c.getMilliseconds());return a},compare:function(c,b,a){var e=c,d=b;if(a!==true){e=c.clone();e.setMilliseconds(0);d=b.clone();d.setMilliseconds(0)}return d.getTime()-e.getTime()},maxOrMin:function(a){var e=(a?0:Number.MAX_VALUE),c=0,b=arguments[1],d=b.length;for(;c<d;c++){e=Math[a?"max":"min"](e,b[c].getTime())}return new Date(e)},max:function(){return this.maxOrMin.apply(this,[true,arguments])},min:function(){return this.maxOrMin.apply(this,[false,arguments])}}})})();Ext.override(Ext.XTemplate,{applySubTemplate:function(a,h,g,d,c){var f=this,e,j=f.tpls[a],i,b=[];if((j.test&&!j.test.call(f,h,g,d,c))||(j.exec&&j.exec.call(f,h,g,d,c))){return""}i=j.target?j.target.call(f,h,g):h;e=i.length;g=j.target?h:g;if(j.target&&Ext.isArray(i)){Ext.each(i,function(k,l){b[b.length]=j.compiled.call(f,k,g,l+1,e)});return b.join("")}return j.compiled.call(f,i,g,d,c)}});Ext.override(Ext.form.DateField,{altFormats:"m/d/Y|n/j/Y|n/j/y|m/j/y|n/d/y|m/j/Y|n/d/Y|m-d-y|m-d-Y|m/d|m-d|md|mdy|mdY|d|Y-m-d|n-j|n/j",safeParse:function(b,c){if(/[gGhH]/.test(c.replace(/(\\.)/g,""))){return Date.parseDate(b,c)}else{var a=Date.parseDate(b+" "+this.initTime,c+" "+this.initTimeFormat);if(a){return a.clearTime()}}}});